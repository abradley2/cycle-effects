var t=require("mitt"),n=require("xstream").default;module.exports=function(e){return function(r){var u=new t,o=r.subscribe({next:function(t){var n=t[0],r=t[1];("object"==typeof e&&(e[r.tag]||e[n.name])||n).apply(void 0,r.args||[]).then(function(t){u.emit(r.tag,{result:t,error:null})}).catch(function(t){u.emit(r.tag,{result:null,error:t})})},complete:function(){o()}});return function(t){var e;return n.create({start:function(n){u.on(t,e=function(t){n.next(t)})},stop:function(){u.off(t,e)}})}}};
//# sourceMappingURL=index.js.map
